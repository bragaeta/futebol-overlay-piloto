<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Admin - Automático</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #eee; }
        .card { background: white; padding: 20px; border-radius: 8px; max-width: 500px; margin: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        input { width: 100%; padding: 10px; margin: 10px 0; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #28a745; color: white; border: none; font-size: 16px; cursor: pointer; }
        button.manual { background: #6c757d; margin-top: 10px; }
        h2 { text-align: center; }
        .status { text-align: center; font-weight: bold; margin-bottom: 10px; color: #555; }
    </style>
</head>
<body>
    <div class="card">
        <h2>Automação de Jogo</h2>
        <div class="status">Modo: <span id="modoApi">Manual</span></div>

        <label>ID da Partida (API-Football)</label>
        <input type="number" id="matchId" placeholder="Ex: 718243">
        <button onclick="startTracking()">INICIAR RASTREIO AUTOMÁTICO</button>

        <hr style="margin: 20px 0;">

        <h3>Controle Manual (Emergência)</h3>
        <input type="text" id="homeName" placeholder="Time Casa">
        <input type="number" id="homeScore" placeholder="Gols Casa">
        <button class="manual" onclick="updateManual()">Forçar Atualização</button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        function startTracking() {
            const id = document.getElementById('matchId').value;
            if (id) {
                socket.emit('trackMatch', id);
                document.getElementById('modoApi').innerText = "Buscando dados na API...";
                document.getElementById('modoApi').style.color = "green";
                alert("O servidor vai buscar atualizações a cada 15 segundos.");
            }
        }

        function updateManual() {
            // Código manual igual ao anterior...
             const data = {
                homeName: document.getElementById('homeName').value,
                homeScore: document.getElementById('homeScore').value
            };
            socket.emit('updateGame', data);
        }
    </script>
</body>
</html>

